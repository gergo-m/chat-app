<div class="chat-layout">
  <div class="chat-list">
    <h2>Hello, {{ (userProfile$ | async)?.name }}!</h2>
    @for (room of userRooms$ | async; track room.id) {
      <div (click)="openChatroom(room.id)" [class.selected]="room.id === openedRoomId" class="chatroom">
        <h3>{{ room.name }}</h3>
        <p>{{ formatLastMessage(room.lastMessage) }} ({{ formatTimestamp(room.lastMessageTimestamp) }})</p>
      </div>
    }
    <button mat-fab color="primary" class="add-room-btn" (click)="openCreateChatroomDialog()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
  @if (openedRoomId) {
    <div class="chat-detail">
      <!--<app-chatroom [roomId]="openedRoomId"></app-chatroom>-->
    </div>
  }
</div>
